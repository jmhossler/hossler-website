language: python
python:
- 3.7
before_install:
- pip install poetry
- docker build -t jmhossler/hossler-website .
install:
- poetry install
script:
- poetry run black --check hossler_website tests
- poetry run pytest
deploy:
  provider: script
  script: bash docker_push.sh
  skip_leanup: true
  on:
    branch: master
